// ==============================================
// üì¶ PRODUCT MANAGER STYLES (Green Theme)
// ==============================================

@import '../../../../styles/variables';
@import '../../../../styles/mixins';

.product-manager-container {
   padding: spacing(12) spacing(8);
   background: #111827;


   @include mobile-only {
      padding: spacing(6) spacing(4);
   }

   // ==============================================
   // üìã HEADER & TOP SECTION
   // ==============================================
   .product-manager-top {
      @include flex-between;
      margin-bottom: spacing(6);
      padding: spacing(6);
      background: #1f2937;
      border-radius: border-radius(xl);
      box-shadow: shadow(lg);
      border: 1px solid #374151;
      position: relative;
      z-index: 1;

      &::before {
         content: '';
         position: absolute;
         top: -20%;
         right: -10%;
         width: 150px;
         height: 150px;
         background: radial-gradient(circle, rgba(37, 99, 235, 0.1) 0%, transparent 70%);
         border-radius: 50%;
         z-index: 0;
      }

      @include mobile-only {
         flex-direction: column;
         gap: spacing(4);
         padding: spacing(4);
         align-items: center;
      }

      .product-title {
         font-size: 2.5rem;
         font-weight: font-weight(bold);
         color: #6c789b;
         margin: 0;
         z-index: 1;
         position: relative;
         display: inline-block;

         // hi·ªáu ·ª©ng shine
         background: linear-gradient(to right,
               #6c789b 0%,
               #ffffff 20%,
               #6c789b 40%,
               #6c789b 100%);
         background-size: 200% auto;
         -webkit-background-clip: text;
         -webkit-text-fill-color: transparent;
         animation: shineText 3s linear infinite;

         @include mobile-only {
            font-size: font-size(xl);
            text-align: center;
            display: block;
         }
      }

      @keyframes shineText {
         0% {
            background-position: 0% center;
         }

         100% {
            background-position: 200% center;
         }

      }

      .product-actions {
         display: flex;
         gap: spacing(3);
         align-items: center;
         z-index: 1;

         @include mobile-only {
            width: 100%;
            justify-content: center;
         }

         .btn-create.btn-create-product {
            padding: spacing(5) spacing(6);
            background: linear-gradient(135deg, rgba(59, 130, 246, 0.15) 0%, rgba(147, 197, 253, 0.05) 100%);
            border-radius: border-radius(lg);
            box-shadow: 0 4px 6px -1px rgba(59, 130, 246, 0.1), 0 2px 4px -1px rgba(59, 130, 246, 0.06);
            border: 1px solid rgba(59, 130, 246, 0.3);
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
            color: #ffffff;
            font-weight: font-weight(medium);
            min-width: 220px;
            font-size: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;

            &::after {
               content: '';
               position: absolute;
               top: 0;
               left: -100%;
               width: 100%;
               height: 100%;
               background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.05), transparent);
               transition: left 0.5s ease;
               z-index: 0;
            }

            &:hover {
               transform: translateY(-2px);
               box-shadow: 0 10px 15px -3px rgba(59, 130, 246, 0.2), 0 4px 6px -2px rgba(59, 130, 246, 0.1);
               border-color: rgba(59, 130, 246, 0.5);
               color: #2d5eff;

               &::after {
                  left: 100%;
               }
            }

            >* {
               position: relative;
               z-index: 1;
            }

            .btn-icon {
               width: 30px;
               height: 30px;
               stroke-width: 2;
            }
         }

      }

   }

   // ==============================================
   // üìã LEGACY HEADER (for backward compatibility)
   // ==============================================

   // ==============================================
   // üîç FILTERS & SEARCH
   // ==============================================
   .product-search-section {
      @include card-base;
      display: flex;
      align-items: center;
      justify-content: start;
      gap: spacing(10);
      margin-bottom: spacing(6);
      background: #1f2937;
      border: 1px solid #374151;
      padding: spacing(4);
      border: 1px solid #374151;


      @include mobile-only {
         flex-direction: column;
         align-items: stretch;
         gap: spacing(2);
      }

      .product-filter-status {
         display: flex;
         align-items: center;
         justify-content: flex-end;
         gap: spacing(4);
         border-radius: border-radius(lg);

         label {
            font-size: 1.05rem;
            font-weight: font-weight(semibold);
            color: #93b3f8; // xanh nh·∫°t h∆°n, d·ªÖ nh√¨n
            white-space: nowrap;
         }

         select {

            @include input-base;
            width: 100%;
            max-width: 400px;
            min-width: 100px;
            color: #fff;
            background: rgba(33, 54, 85, 0.9);
            border: 1.5px solid rgba(147, 197, 253, 0.4);
            border-radius: spacing(2);
            padding: spacing(2) spacing(3);
            font-size: font-size(base);
            cursor: pointer;
            transition: all 0.25s ease;

            &:hover {
               background: rgba(33, 54, 85, 1);
               border-color: rgba(147, 197, 253, 0.8);
            }

            &:focus {
               outline: none;
               border-color: #3b82f6; // blue-500
               box-shadow: 0 0 8px rgba(59, 130, 246, 0.45);
               background: rgba(37, 56, 90, 1);
            }

            option {
               background: #1e293b; // slate-800
               color: #fff;
            }

            @include mobile-only {
               max-width: 100%;
               font-size: font-size(sm);
            }
         }
      }



      .product-search-bar {
         width: 100%;

         input {
            @include input-base;
            width: 100%;
            max-width: 600px;
            color: #fff;
            background: rgba(33, 54, 85, 0.9);
            border: 1.5px solid rgba(147, 197, 253, 0.4);
            border-radius: spacing(2);
            padding: spacing(3) spacing(4);
            font-size: font-size(base);
            transition: all 0.25s ease;

            &::placeholder {
               color: rgba(255, 255, 255, 0.4);
            }

            &:hover {
               background: rgba(33, 54, 85, 1);
               border-color: rgba(147, 197, 253, 0.8);
            }

            &:focus {
               outline: none;
               border-color: #3b82f6; // blue-500
               background: rgba(37, 56, 90, 1);
            }

            @include mobile-only {
               max-width: 100%;
               font-size: font-size(sm);
               padding: spacing(3);
            }
         }
      }

      .product-hint-box {

         display: flex;
         justify-content: center;
         align-items: center;

      }


   }


   // ==============================================
   // üìä TABLE STYLING
   // ==============================================
   .product-table-wrapper {
      @include card-base;
      overflow: hidden;
      border: 1px solid #93c5fd;

      @include mobile-only {
         overflow-x: auto;
      }

      .product-table {
         @include table-base;
         box-shadow: none;
         border-radius: 0;
         background: #2563eb;


         thead {
            background: #32425c;

            th {
               text-align: center;
               padding: spacing(4);
               font-weight: font-weight(semibold);
               font-size: font-size(sm);
               color: white;
               border-bottom: 2px solid #555f6e;
               position: relative;

               &:first-child {
                  border-left: 5px solid #2563eb;
               }
            }
         }

         tbody {
            background: #2a374e;

            tr {
               @include table-row;
               transition: all 0.3s ease;
               background-color: #182433;
               border-left: 5px solid #93c5fd;

               &:hover {
                  border-left: 10px solid #2563eb;
                  background-color: #2a374e;
                  transform: translateX(15px);
                  transition: all 0.5s ease;

                  &::after {
                     background: linear-gradient(90deg, transparent, rgba(59, 130, 246, 0.5), transparent);
                  }
               }

               td {
                  color: #d1d5db;
                  border-bottom: 1px solid #4b515a;
                  text-align: center;
                  padding: spacing(3);

                  .stock-badge {
                     padding: 4px 8px;
                     border-radius: 6px;
                     font-weight: 600;
                     font-size: 14px;
                     display: inline-block;
                     min-width: 40px;
                     text-align: center;

                     &.in-stock {
                        background-color: #87aaf5;
                        color: #162f65;
                        border: 2px solid #2563eb;
                     }

                     &.out-of-stock {
                        background-color: #fef2f2;
                        color: #dc2626;
                        border: 1px solid #fecaca;
                        font-weight: 700;

                        &::after {
                           content: ' ‚ùå';
                           font-size: 12px;
                           margin-left: 4px;
                        }
                     }
                  }

                  .status-cell {
                     font-size: 1.1rem;
                     font-weight: bold;
                  }



               }

               .product-name-cell {
                  padding: 4px 8px;
                  font-weight: 600;
                  color: #ffffff;
                  position: relative;
                  transition: all 0.3s ease;

                  &:hover {
                     color: #7ea9ff !important;
                  }

                  span {
                     cursor: pointer;
                     transition: all 0.2s ease;
                     border-radius: 10px;
                     padding: 2px 4px;
                     display: inline-block;
                     text-decoration: underline;
                     text-decoration-color: #7a95ce !important;
                     text-decoration-thickness: 1px;
                     text-underline-offset: 3px;

                     &:hover {
                        transform: scale(1.05);
                     }

                     &:active {
                        transform: scale(0.85);
                     }
                  }
               }
            }
         }

         .hide-mobile {
            @include mobile-only {
               display: none;
            }
         }

         .cell-na {
            color: #909191;
            font-style: italic;
            font-size: 0.8rem !important;
            position: relative;
         }

         .phone-number-cell {
            padding: 4px 8px;
            font-weight: 600;
            color: #ffffff;
            position: relative;
            transition: all 0.3s ease;

            &:hover {
               color: #7ea9ff;
            }

            span {
               cursor: pointer;
               transition: all 0.2s ease;
               border-radius: 10px;
               padding: 2px 4px;
               display: inline-block;
               text-decoration: underline;
               text-decoration-color: #7a95ce;
               text-decoration-thickness: 1px;
               text-underline-offset: 3px;

               &:hover {
                  transform: scale(1.05);
               }

               &:active {
                  transform: scale(0.85);
               }
            }
         }
      }
   }

   // ==============================================
   // üéØ ACTION BUTTONS
   // ==============================================
   .action-buttons {
      display: flex;
      gap: spacing(4);
      flex-wrap: wrap;
      justify-content: center;

      @include mobile-only {
         flex-direction: column;
         gap: spacing(1);
      }

      .btn-action {
         display: flex;
         align-items: center;
         justify-content: flex-start;
         gap: 8px;
         width: 150px;
         border: none;
         border-radius: 30px;
         cursor: pointer;
         overflow: hidden;
         position: relative;
         transition: all 0.4s ease;
         color: white;

         .btn-icon-detail,
         .btn-icon-update,
         .btn-icon-delete,
         .btn-icon-activate,
         .btn-icon-deactivate,
         .btn-icon-active,
         .btn-icon-add-category {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            color: white;
            transition:
               transform 0.6s cubic-bezier(0.25, 1, 0.3, 1),
               background 0.3s ease,
               color 0.3s ease,
               box-shadow 0.4s ease;
            transform: translateX(0) scale(1);
            box-shadow: 0 0 0 rgba(255, 255, 255, 0);
            flex-shrink: 0;
            position: relative;

            /* T·∫°o hi·ªáu ·ª©ng glow nh·∫π */
            &::before {
               content: '';
               position: absolute;
               inset: -2px;
               border-radius: 50%;
               background: transparent;
               opacity: 0;
               transition: opacity 0.4s ease;
               z-index: -1;
            }
         }

         .btn-text {
            font-size: 1.1rem;
            transition: all 0.5s ease;
            opacity: 1;
            transform: translateX(0);
            white-space: nowrap;
         }

         svg {
            width: 30px;
            height: 30px;
            transition: transform 0.8s cubic-bezier(0.25, 1, 0.5, 1) !important;
         }

         /* --- Hover --- */
         &:hover {

            .btn-icon-detail,
            .btn-icon-update,
            .btn-icon-delete,
            .btn-icon-activate,
            .btn-icon-deactivate,
            .btn-icon-active,
            .btn-icon-add-category {
               background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85));
               transition:
                  background 0.3s ease,
                  color 0.3s ease,
                  box-shadow 0.4s ease;

               &::before {
                  opacity: 1;
                  animation: pulseGlow 2s ease-in-out infinite 0.6s;
               }
            }

            svg {
               transform: rotate(25deg);
            }
         }

         /* --- C√°c lo·∫°i n√∫t --- */
         &.btn-add-category {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #D0872E, #432004);
            border: 2px solid #E5A440;

            &:hover {
               background: linear-gradient(135deg, #432004, #D0872E);
               border: 2px solid #E5A440;
               transform: scale(1.05);
               transition: all 0.3s ease;

               .btn-icon-add-category {
                  background: linear-gradient(135deg, rgba(229, 164, 64, 0.95), rgba(229, 164, 64, 0.85));
                  color: #432004;

                  &::before {
                     background: radial-gradient(circle, rgba(229, 164, 64, 0.4), transparent 70%);
                  }
               }
            }
         }

         &.btn-active {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #52525C, #09090B);
            border: 2px solid #27272A;

            &:hover {
               background: linear-gradient(135deg, #09090B, #52525C);
               border: 2px solid #71717A;
               transform: scale(1.05) !important;
               transition: all 0.3s ease;

               .btn-icon-activate {
                  background: linear-gradient(135deg, rgba(82, 82, 92, 0.95), rgba(82, 82, 92, 0.85));
                  color: #09090B !important;

                  &::before {
                     background: radial-gradient(circle, rgba(82, 82, 92, 0.4), transparent 70%) !important;
                  }
               }

               .btn-icon-deactivate {
                  background: linear-gradient(135deg, rgba(82, 82, 92, 0.95), rgba(82, 82, 92, 0.85));
                  color: #09090B !important;

                  &::before {
                     background: radial-gradient(circle, rgba(82, 82, 92, 0.4), transparent 70%) !important;
                  }
               }
            }
         }

         &.btn-detail {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #155dfc, #162456);
            border: 2px solid #2563eb;

            &:hover {
               background: linear-gradient(135deg, #162456, #155dfc);
               border: 2px solid #8eb1fd;
               transform: scale(1.05) !important;
               transition: all 0.3s ease;

               .btn-icon-detail {
                  background: linear-gradient(135deg, rgba(142, 177, 253, 0.95), rgba(142, 177, 253, 0.85));
                  color: #162456 !important;

                  &::before {
                     background: radial-gradient(circle, rgba(142, 177, 253, 0.4), transparent 70%);
                  }
               }
            }
         }

         &.btn-update {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #2D9966, #032E15) !important;
            border: 2px solid #16a34a;

            &:hover {
               background: linear-gradient(135deg, #032E15, #2D9966);
               border: 2px solid #8effb7;
               transform: scale(1.05) !important;
               transition: all 0.3s ease;

               .btn-icon-update {
                  background: linear-gradient(135deg, rgba(74, 222, 128, 0.95), rgba(74, 222, 128, 0.85));
                  color: #032E15 !important;

                  &::before {
                     background: radial-gradient(circle, rgba(74, 222, 128, 0.4), transparent 70%) !important;
                  }
               }
            }
         }

         &.btn-delete {
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #E7180B, #460809);
            border: 2px solid #dc2626;

            &:hover {
               background: linear-gradient(135deg, #460809, #E7180B) !important;
               border: 2px solid #ff9797;
               box-shadow: none !important;
               transform: scale(1.05) !important;
               transition: all 0.3s ease;

               .btn-icon-delete {
                  background: linear-gradient(135deg, rgba(248, 113, 113, 0.95), rgba(248, 113, 113, 0.85));
                  color: #460809;

                  &::before {
                     background: radial-gradient(circle, rgba(248, 113, 113, 0.4), transparent 70%) !important;
                  }
               }
            }
         }
      }
   }



   // ==============================================
   // üì± LOADING & STATES
   // ==============================================
   .product-loading {
      text-align: center;
      padding: spacing(8);
      color: #16a34a;
      font-size: font-size(lg);
      font-weight: font-weight(medium);

      &::before {
         content: '‚è≥';
         margin-right: spacing(2);
         animation: spin 2s linear infinite;
      }
   }

   @keyframes spin {
      from {
         transform: rotate(0deg);
      }

      to {
         transform: rotate(360deg);
      }
   }

   // ==============================================
   // üé≠ RESPONSIVE DESIGN
   // ==============================================
   @include mobile-only {
      .product-table-wrapper {
         overflow-x: auto;
      }

      .product-table {
         min-width: 600px;
      }

      .action-buttons {
         min-width: 200px;
      }
   }

}