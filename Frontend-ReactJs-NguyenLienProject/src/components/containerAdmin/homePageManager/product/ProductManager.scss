// ==============================================
// üì¶ PRODUCT MANAGER STYLES (Green Theme)
// ==============================================

@import '../../../../styles/variables';
@import '../../../../styles/mixins';

.product-manager-container {
   min-height: 100vh;
   padding: spacing(8) spacing(6);
   background: linear-gradient(135deg, #f0fdf4 0%, color(white) 50%, #ecfdf5 100%);

   @include mobile-only {
      padding: spacing(6) spacing(4);
   }

   // ==============================================
   // üìã HEADER & TOP SECTION
   // ==============================================
   .product-manager-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: spacing(8);
      padding: spacing(6);
      background: linear-gradient(135deg, color(white) 0%, #f0fdf4 100%);
      border-radius: border-radius(xl);
      box-shadow: shadow(lg);
      border: 1px solid #bbf7d0;

      @include mobile-only {
         flex-direction: column;
         gap: spacing(4);
         text-align: center;
      }

      .product-title {
         font-size: font-size(3xl);
         font-weight: font-weight(bold);
         color: #14532d;
         margin: 0;
         position: relative;

         &::before {
            content: 'üì¶';
            margin-right: spacing(2);
            font-size: font-size(2xl);
         }

         @include mobile-only {
            font-size: font-size(2xl);
         }
      }

      .btn-create-product {
         @include button-base;
         background: linear-gradient(135deg, #22c55e, #16a34a);
         color: color(white);
         border: 1px solid #16a34a;
         padding: spacing(3) spacing(6);
         font-size: font-size(base);
         font-weight: font-weight(semibold);
         border-radius: border-radius(lg);
         transition: all 0.3s ease;
         display: flex;
         align-items: center;
         gap: spacing(2);

         &:hover {
            background: linear-gradient(135deg, #16a34a, #15803d);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(34, 197, 94, 0.3);
         }

         &:active {
            transform: translateY(0);
         }

         @include mobile-only {
            padding: spacing(3) spacing(4);
            font-size: font-size(sm);
         }
      }
   }

   // ==============================================
   // üìã LEGACY HEADER (for backward compatibility)
   // ==============================================
   h1 {
      font-size: font-size(3xl);
      font-weight: font-weight(bold);
      color: #14532d;
      margin: 0 0 spacing(6) 0;
      text-align: center;
      position: relative;

      &::before {
         content: 'üì¶';
         margin-right: spacing(2);
         font-size: font-size(2xl);
      }

      &::after {
         content: '';
         position: absolute;
         bottom: -8px;
         left: 50%;
         transform: translateX(-50%);
         width: 100px;
         height: 3px;
         background: linear-gradient(90deg, #22c55e, #16a34a);
         border-radius: border-radius(full);
      }
   }

   // ==============================================
   // üîç FILTERS & SEARCH
   // ==============================================
   .product-filters {
      display: flex;
      align-items: center;
      gap: spacing(4);
      margin-bottom: spacing(4);
      padding: spacing(4);
      background: color(white);
      border-radius: border-radius(lg);
      box-shadow: shadow(sm);
      border: 1px solid #bbf7d0;

      @include mobile-only {
         flex-direction: column;
         align-items: stretch;
         gap: spacing(3);
      }

      // HintBox wrapper trong filter
      .hint-icon-wrapper {
         margin: 0;
         flex-shrink: 0;
      }

      label {
         font-weight: font-weight(semibold);
         color: #14532d;
         white-space: nowrap;
         margin-left: auto; // ƒê·∫©y label v√† select sang ph·∫£i

         @include mobile-only {
            margin-left: 0;
         }
      }

      select {
         padding: spacing(2) spacing(3);
         border: 2px solid #d1fae5;
         border-radius: border-radius(md);
         background: color(white);
         color: #374151;
         font-size: font-size(sm);
         transition: all 0.3s ease;
         flex-shrink: 0;

         &:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
         }

         option {
            padding: spacing(2);
         }
      }

      // Mobile layout adjustment
      @include mobile-only {
         .hint-icon-wrapper {
            align-self: flex-start;
         }

         label {
            order: 1;
         }

         select {
            order: 2;
         }
      }
   }

   .product-search-bar {
      margin-bottom: spacing(6);

      input {
         width: 100%;
         padding: spacing(4);
         border: 2px solid #d1fae5;
         border-radius: border-radius(lg);
         font-size: font-size(base);
         background: color(white);
         color: #374151;
         transition: all 0.3s ease;

         &::placeholder {
            color: #9ca3af;
         }

         &:focus {
            outline: none;
            border-color: #22c55e;
            box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
            background: #f9fafb;
         }

         // Pink background when filled
         &:not(:placeholder-shown) {
            background-color: #fdf2f8;
            border-color: #f9a8d4;
         }
      }
   }

   // ==============================================
   // üìä TABLE STYLING
   // ==============================================
   .product-table-wrapper {
      background: color(white);
      border-radius: border-radius(xl);
      box-shadow: shadow(lg);
      overflow: hidden;
      border: 1px solid #bbf7d0;
   }

   .product-table {
      width: 100%;
      border-collapse: collapse;
      font-size: font-size(sm);

      @include mobile-only {
         font-size: font-size(xs);
      }

      thead {
         background: linear-gradient(135deg, #dcfce7, #bbf7d0);

         th {
            padding: spacing(4);
            text-align: left;
            font-weight: font-weight(bold);
            color: #14532d;
            border-bottom: 2px solid #22c55e;
            position: sticky;
            top: 0;
            z-index: 10;

            @include mobile-only {
               padding: spacing(3) spacing(2);
               font-size: font-size(xs);
            }
         }
      }

      tbody {
         tr {
            transition: all 0.3s ease;

            &:nth-child(even) {
               background-color: #f9fafb;
            }

            &:hover {
               background-color: #ecfdf5;
               transform: scale(1.01);
               box-shadow: 0 4px 8px rgba(34, 197, 94, 0.1);
            }

            td {
               padding: spacing(4);
               border-bottom: 1px solid #e5e7eb;
               color: #374151;
               vertical-align: middle;

               @include mobile-only {
                  padding: spacing(3) spacing(2);
                  font-size: font-size(xs);
               }

               // Empty state styling
               &[colspan] {
                  text-align: center;
                  color: #9ca3af;
                  font-style: italic;
                  padding: spacing(8);
               }
            }
         }
      }
   }

   // ==============================================
   // üéØ ACTION BUTTONS
   // ==============================================
   .action-buttons {
      display: flex;
      gap: spacing(2);
      flex-wrap: wrap;

      @include mobile-only {
         flex-direction: column;
         gap: spacing(1);
      }
   }

   .btn-action {
      @include button-base;
      padding: spacing(2) spacing(3);
      font-size: font-size(xs);
      font-weight: font-weight(medium);
      border-radius: border-radius(md);
      transition: all 0.3s ease;
      min-width: 80px;
      text-align: center;

      @include mobile-only {
         padding: spacing(2);
         font-size: font-size(2xs);
         min-width: auto;
      }

      &:hover {
         transform: translateY(-2px);
         box-shadow: shadow(md);
      }

      &:active {
         transform: translateY(0);
      }

      // Detail button (Blue)
      &.btn-detail {
         background: linear-gradient(135deg, #3b82f6, #2563eb);
         color: color(white);
         border: 1px solid #2563eb;

         &:hover {
            background: linear-gradient(135deg, #2563eb, #1d4ed8);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
         }
      }

      // Update button (Green)
      &.btn-update {
         background: linear-gradient(135deg, #22c55e, #16a34a);
         color: color(white);
         border: 1px solid #16a34a;

         &:hover {
            background: linear-gradient(135deg, #16a34a, #15803d);
            box-shadow: 0 4px 12px rgba(34, 197, 94, 0.3);
         }
      }

      // Add Category button (Orange)
      &.btn-add-category {
         background: linear-gradient(135deg, #f97316, #ea580c);
         color: color(white);
         border: 1px solid #ea580c;

         &:hover {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.3);
         }
      }

      // Toggle Active button (Purple)
      &.btn-toggle {
         background: linear-gradient(135deg, #8b5cf6, #7c3aed);
         color: color(white);
         border: 1px solid #7c3aed;

         &:hover {
            background: linear-gradient(135deg, #7c3aed, #6d28d9);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
         }
      }

      // Delete button (Red)
      &.btn-delete {
         background: linear-gradient(135deg, #ef4444, #dc2626);
         color: color(white);
         border: 1px solid #dc2626;

         &:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
         }
      }
   }

   // ==============================================
   // üì± LOADING & STATES
   // ==============================================
   .product-loading {
      text-align: center;
      padding: spacing(8);
      color: #16a34a;
      font-size: font-size(lg);
      font-weight: font-weight(medium);

      &::before {
         content: '‚è≥';
         margin-right: spacing(2);
         animation: spin 2s linear infinite;
      }
   }

   @keyframes spin {
      from {
         transform: rotate(0deg);
      }

      to {
         transform: rotate(360deg);
      }
   }

   // ==============================================
   // üé≠ RESPONSIVE DESIGN
   // ==============================================
   @include mobile-only {
      .product-table-wrapper {
         overflow-x: auto;
      }

      .product-table {
         min-width: 600px;
      }

      .action-buttons {
         min-width: 200px;
      }
   }

   // ==============================================
   // üåô DARK MODE SUPPORT
   // ==============================================
   @media (prefers-color-scheme: dark) {
      background: linear-gradient(135deg, #14532d 0%, color(gray-900) 50%, #166534 100%);

      .product-manager-top {
         background: linear-gradient(135deg, color(gray-800) 0%, #14532d 100%);
         border-color: #22c55e;

         .product-title {
            color: #bbf7d0;
         }

         .btn-create-product {
            background: linear-gradient(135deg, #16a34a, #15803d);
            border-color: #15803d;

            &:hover {
               background: linear-gradient(135deg, #15803d, #14532d);
            }
         }
      }

      h1 {
         color: #bbf7d0;
      }

      .product-filters {
         background: color(gray-800);
         border-color: #22c55e;

         .hint-icon-wrapper .hint-icon {
            background: rgba(251, 191, 36, 0.15);
            border-color: rgba(251, 191, 36, 0.4);
         }

         label {
            color: #bbf7d0;
         }

         select {
            background: color(gray-700);
            color: color(gray-200);
            border-color: #22c55e;

            &:focus {
               border-color: #16a34a;
            }
         }
      }

      .product-search-bar input {
         background: color(gray-800);
         color: color(gray-200);
         border-color: #22c55e;

         &:focus {
            background: color(gray-700);
            border-color: #16a34a;
         }

         &:not(:placeholder-shown) {
            background-color: color(gray-700);
            border-color: #22c55e;
         }
      }

      .product-table-wrapper {
         background: color(gray-800);
         border-color: #22c55e;
      }

      .product-table {
         thead {
            background: linear-gradient(135deg, #166534, #14532d);

            th {
               color: #bbf7d0;
               border-bottom-color: #22c55e;
            }
         }

         tbody {
            tr {
               &:nth-child(even) {
                  background-color: color(gray-700);
               }

               &:hover {
                  background-color: #14532d;
               }

               td {
                  color: color(gray-200);
                  border-bottom-color: color(gray-600);
               }
            }
         }
      }
   }
}

// ==============================================
// üìä STOCK BADGE STYLES
// ==============================================
.stock-badge {
   padding: 4px 8px;
   border-radius: 6px;
   font-weight: 600;
   font-size: 14px;
   display: inline-block;
   min-width: 40px;
   text-align: center;

   &.in-stock {
      background-color: #dcfce7;
      color: #166534;
      border: 1px solid #bbf7d0;
   }

   &.out-of-stock {
      background-color: #fef2f2;
      color: #dc2626;
      border: 1px solid #fecaca;
      font-weight: 700;

      &::after {
         content: ' ‚ùå';
         font-size: 12px;
         margin-left: 4px;
      }
   }

   // Dark theme support
   .product-manager-container.dark & {
      &.in-stock {
         background-color: #14532d;
         color: #bbf7d0;
         border-color: #22c55e;
      }

      &.out-of-stock {
         background-color: #7f1d1d;
         color: #fecaca;
         border-color: #ef4444;
      }
   }
}