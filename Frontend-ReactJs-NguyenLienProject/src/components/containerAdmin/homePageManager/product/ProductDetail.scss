// ==============================================
// üì¶ PRODUCT DETAIL STYLES (Green Theme)
// ==============================================

@import '../../../../styles/variables';
@import '../../../../styles/mixins';

.product-detail-container {
   padding: spacing(8) spacing(6);
   background: #182433;

   @include mobile-only {
      padding: spacing(6) spacing(4);
   }

   .product-detail-title {
      font-size: 2.5rem;
      font-weight: font-weight(bold);
      color: #6c789b;
      margin: 0 0 spacing(10) 0;
      z-index: 1;
      position: relative;
      text-align: center;
      display: block;

      // hi·ªáu ·ª©ng shine
      background: linear-gradient(to right,
            #6c789b 0%,
            #ffffff 20%,
            #6c789b 40%,
            #6c789b 100%);
      background-size: 200% auto;
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: shineText 3s linear infinite;

      @include mobile-only {
         font-size: font-size(xl);
         text-align: center;
         display: block;
      }
   }

   @keyframes shineText {
      0% {
         background-position: 0% center;
      }

      100% {
         background-position: 200% center;
      }

   }


   // ==============================================
   // üìä LOADING STATE
   // ==============================================
   .loading-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 400px;
      text-align: center;
      border-color: #374151;
      border-top-color: #22c55e;

      .loading-spinner {
         width: 60px;
         height: 60px;
         border: 4px solid #d1fae5;
         border-top: 4px solid #22c55e;
         border-radius: 50%;
         animation: spin 1s linear infinite;
         margin-bottom: spacing(4);
      }

      p {
         color: #16a34a;
         font-size: font-size(lg);
         font-weight: font-weight(medium);
         margin: 0;
         color: #22c55e;

      }
   }

   // ==============================================
   // ‚ùå ERROR STATE
   // ==============================================
   .error-state {
      max-width: 600px;
      margin: 0 auto;
      background: color(white);
      padding: spacing(8);
      border-radius: border-radius(xl);
      box-shadow: shadow(lg);
      border: 2px solid #fecaca;
      text-align: center;
      background: color(gray-800);
      border-color: #f87171;

      .error-icon {
         font-size: font-size(4xl);
         margin-bottom: spacing(4);
      }

      h2 {
         color: #dc2626;
         font-size: font-size(xl);
         font-weight: font-weight(bold);
         margin: 0 0 spacing(3) 0;
         color: #f87171;

      }

      p {
         color: #374151;
         font-size: font-size(base);
         margin: 0 0 spacing(6) 0;
         line-height: line-height(relaxed);
         color: color(gray-300);

      }

      button {
         @include button-base;
         background: linear-gradient(135deg, #ef4444, #dc2626);
         color: color(white);
         border: 1px solid #dc2626;
         padding: spacing(3) spacing(6);
         font-size: font-size(sm);
         font-weight: font-weight(semibold);
         border-radius: border-radius(lg);
         transition: all 0.3s ease;

         &:hover {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(220, 38, 38, 0.3);
         }
      }
   }

   // ==============================================
   // üìã PRODUCT DETAIL CARD
   // ==============================================
   .product-detail-card {
      max-width: 1600px;
      margin: 0 auto;
      background: #1f2937;
      border-radius: border-radius(xl);
      box-shadow: shadow(lg);
      border: 1px solid #374151;
      overflow: hidden;

      @include mobile-only {
         margin: 0 spacing(2);
      }

      .card-header {
         background: #1f2937;
         padding: spacing(6);
         text-align: center;
         border-bottom: 2px solid #647caf;
         border-radius: 10px;

         .product-detail-header-title {
            color: #b4c1e9;
            font-style: italic;
            font-size: 1rem;
            font-weight: font-weight(medium);
            display: inline-block;
            width: 100%;
         }

         h2 {
            color: #729fff;
            font-size: font-size(4xl);
            font-weight: font-weight(extrabold);
            margin: 0 0 spacing(2) 0;
            text-shadow:
               2px 2px 0 #26468b,
               5px 5px 0 #010c2c;
         }

         .product-id {
            color: #729fff;
            font-size: font-size(xl);
            font-weight: font-weight(medium);
            padding: spacing(1) spacing(4);
            border-radius: border-radius(full);
            display: inline-block;
            background: color(gray-700);
            border-left: 3px solid #2e6ef8;
            border-right: 3px solid #2e6ef8;


         }
      }

      .card-body {
         padding: spacing(8);

         @include mobile-only {
            padding: spacing(6) spacing(4);
         }

         .detail-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: spacing(6);
            justify-content: center;

            &:has(.detail-section:nth-child(7):last-child) {
               grid-template-columns: repeat(3, 1fr);

               .detail-section:nth-child(7) {
                  grid-column: 2; // Item th·ª© 7 n·∫±m ·ªü c·ªôt gi·ªØa
                  min-width: 100%;
                  max-width: 400px;
                  justify-self: center;
               }
            }

            @include mobile-only {
               grid-template-columns: 1fr;
               gap: spacing(4);
            }
         }

         .detail-section {
            background: color(gray-700);
            border-radius: border-radius(lg);
            padding: spacing(6);
            border: 1px solid color(gray-600);

            @include mobile-only {
               padding: spacing(4);
            }

            h3 {
               color: #50bfff;
               font-size: font-size(2xl);
               font-weight: font-weight(bold);
               margin-bottom: spacing(8);
               display: flex;
               align-items: center;
               text-align: center;
               justify-content: center;

               &::before {
                  margin-right: spacing(2);
                  font-size: font-size(xl);
               }
            }

            .basic-info {
               margin-top: 0 !important;
            }

            .detail-item {
               display: flex;
               justify-content: center;
               align-items: center;
               margin-bottom: spacing(3);
               padding-bottom: spacing(3);
               border-bottom: 1px solid #e5e7eb;
               border-bottom-color: color(gray-600);
               gap: spacing(5);

               &:last-child {
                  margin-bottom: 0;
                  padding-bottom: 0;
                  border-bottom: none;
               }

               .label {
                  color: #b1b1b1;
                  font-style: italic;
                  min-width: 120px;
                  font-size: 1.1rem;
                  flex-shrink: 0;

               }

               .value {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  color: #ffffff;
                  font-size: font-size(xl);
                  text-align: right;
                  flex: 1;
                  word-break: break-word;
                  overflow-wrap: break-word;
                  background: #1f2835;
                  padding: spacing(2) 0;
                  border-radius: border-radius(lg);

                  // Description link styling
                  .description-link {
                     color: #bc98ff;
                     font-weight: font-weight(bold);
                     cursor: pointer;
                     text-decoration: underline;
                     text-decoration-color: #bc98ff;
                     text-decoration-style: dashed;
                     text-decoration-thickness: 1px;
                     text-underline-offset: 3px;
                     transition: all 0.3s ease;
                     border-radius: 4px;

                     &:hover {
                        background-color: #bc98ff;
                        color: #1f2835;
                        text-decoration-color: #1f2835;
                        transform: translateY(-3px);
                     }
                  }

                  &.price {
                     font-weight: font-weight(bold);
                     color: #ffd3b4;
                     text-decoration: line-through;
                     text-decoration-color: #ff6f6f;

                  }

                  &.discount-price {
                     font-weight: font-weight(bold);
                     color: #fb923c;

                  }

                  &.value {
                     font-weight: font-weight(bold);

                     .stock {
                        font-weight: font-weight(bold);
                        background-color: #87aaf5;
                        color: #162f65;
                        border: 2px solid #2563eb;
                        border-radius: border-radius(full);
                        padding: 0 spacing(2);
                     }

                  }

                  .badge {
                     padding: spacing(1) spacing(2);
                     border-radius: border-radius(full);
                     font-size: font-size(xs);
                     font-weight: font-weight(bold);
                     text-transform: uppercase;
                     letter-spacing: 0.05em;

                     &.active {
                        background: #dcfce7;
                        color: #15803d;
                        background: #14532d;
                        color: #bbf7d0;
                     }

                     &.inactive {
                        background: #fee2e2;
                        color: #dc2626;
                        background: #7f1d1d;
                        color: #fca5a5;
                     }

                     &.new {
                        background: #dbeafe;
                        color: #1d4ed8;
                        background: #1e3a8a;
                        color: #93c5fd;
                     }

                     &.bestseller {
                        background: #fed7aa;
                        color: #c2410c;
                        background: #9a3412;
                        color: #fed7aa;
                     }

                  }

                  .categories-info {
                     width: 100%;

                     .badge.category-count {
                        background: #22c55e;
                        color: color(white);
                        font-weight: font-weight(semibold);
                        font-size: font-size(sm);
                        margin-bottom: spacing(3);
                        margin-left: 15px;
                        display: block;
                        width: fit-content;
                     }

                     .categories-list {
                        display: flex;
                        flex-wrap: wrap;
                        gap: spacing(2);
                        margin-top: spacing(2);

                        .badge.category-name {
                           background: #16a34a;
                           color: color(white);
                           font-size: font-size(xs);
                           padding: spacing(2) spacing(3);
                           border-radius: border-radius(full);
                           transition: all 0.3s ease;
                           font-weight: font-weight(medium);

                           &:hover {
                              background: #15803d;
                              transform: translateY(-1px);
                              box-shadow: 0 2px 8px rgba(21, 128, 61, 0.3);
                           }

                           &.clickable {
                              cursor: pointer;
                              position: relative;

                              &:hover {
                                 background: #0f6b2c;
                                 transform: translateY(-2px) scale(1.05);
                                 box-shadow: 0 4px 12px rgba(15, 107, 44, 0.4);
                              }

                              &:active {
                                 transform: translateY(-1px) scale(0.98);
                              }

                              // Th√™m hi·ªáu ·ª©ng ripple
                              &::before {
                                 content: '';
                                 position: absolute;
                                 top: 50%;
                                 left: 50%;
                                 width: 0;
                                 height: 0;
                                 background: rgba(255, 255, 255, 0.3);
                                 border-radius: 50%;
                                 transform: translate(-50%, -50%);
                                 transition: all 0.3s ease;
                                 z-index: 0;
                              }

                              &:active::before {
                                 width: 100%;
                                 height: 100%;
                              }
                           }
                        }
                     }
                  }
               }

               @include mobile-only {
                  flex-direction: column;
                  align-items: stretch;

                  .label {
                     min-width: auto;
                     margin-bottom: spacing(1);
                  }

                  .value {
                     text-align: left;
                     margin-left: 0;
                  }
               }

               .btn-manage-images {
                  width: 100%;
                  padding: spacing(3) spacing(4);
                  background: linear-gradient(135deg, #141a22, #053b79);
                  color: white;
                  border-radius: border-radius(lg);
                  font-size: font-size(base);
                  font-weight: font-weight(semibold);
                  cursor: pointer;
                  transition: all 0.3s ease;
                  border: 1px solid #001731;


                  &:hover {
                     background: linear-gradient(135deg, #053b79, #141a22);
                     transform: translateY(-6px);
                     border: 1px solid #1a487c;
                     box-shadow: 0 8px 24px rgba(5, 59, 121, 0.5);
                  }
               }
            }
         }
      }

      .card-footer {
         padding: spacing(6);
         border-top: 2px solid #647caf;
         border-radius: 10px;
         background: color(gray-700);
         display: flex;
         flex-wrap: wrap;
         justify-content: center;
         align-items: center;

         @include mobile-only {
            flex-direction: column;
            gap: spacing(1);
         }

         .action-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: spacing(16);

            @include mobile-only {
               flex-direction: column;
               gap: spacing(1);
            }

            .btn-action {
               display: flex;
               align-items: center;
               gap: 8px;
               width: 150px;
               border: none;
               border-radius: 30px;
               cursor: pointer;
               overflow: hidden;
               position: relative;
               transition: all 0.4s ease;
               color: white;

               .btn-icon-detail,
               .btn-icon-update,
               .btn-icon-delete,
               .btn-icon-activate,
               .btn-icon-deactivate,
               .btn-icon-active,
               .btn-icon-add-category,
               .btn-icon-back {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  width: 28px;
                  height: 28px;
                  border-radius: 50%;
                  color: white;
                  transition:
                     transform 0.6s cubic-bezier(0.25, 1, 0.3, 1),
                     background 0.3s ease,
                     color 0.3s ease,
                     box-shadow 0.4s ease;
                  transform: translateX(0) scale(1);
                  box-shadow: 0 0 0 rgba(255, 255, 255, 0);
                  flex-shrink: 0;
                  position: relative;

                  /* T·∫°o hi·ªáu ·ª©ng glow nh·∫π */
                  &::before {
                     content: '';
                     position: absolute;
                     inset: -2px;
                     border-radius: 50%;
                     background: transparent;
                     opacity: 0;
                     transition: opacity 0.4s ease;
                     z-index: -1;
                  }
               }

               .btn-text {
                  font-size: 1.1rem;
                  transition: all 0.5s ease;
                  opacity: 1;
                  transform: translateX(0);
                  white-space: nowrap;
               }

               svg {
                  width: 30px;
                  height: 30px;
                  transition: transform 0.4s ease;
               }

               /* --- Hover --- */
               &:hover {

                  .btn-icon-detail,
                  .btn-icon-update,
                  .btn-icon-delete,
                  .btn-icon-activate,
                  .btn-icon-deactivate,
                  .btn-icon-active,
                  .btn-icon-add-category,
                  .btn-icon-back {
                     background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 255, 255, 0.85)) !important;
                     transition:
                        background 0.3s ease,
                        color 0.3s ease,
                        box-shadow 0.4s ease !important;

                     &::before {
                        opacity: 1;
                        animation: pulseGlow 2s ease-in-out infinite 0.6s;
                     }
                  }

                  svg {
                     transform: rotate(25deg);
                  }
               }

               /* --- C√°c lo·∫°i n√∫t --- */
               &.btn-back {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #45556C, #020618);
                  border: 2px solid #1D293D;

                  &:hover {
                     background: linear-gradient(135deg, #020618, #45556C);
                     border: 2px solid #62748E;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-back {
                        background: linear-gradient(135deg, rgba(74, 222, 128, 0.95), rgba(74, 222, 128, 0.85));
                        color: #020618 !important;

                        &::before {
                           background: radial-gradient(circle, rgba(74, 222, 128, 0.4), transparent 70%);
                        }
                     }
                  }
               }

               &.btn-add-category {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #D0872E, #432004);
                  border: 2px solid #E5A440;

                  &:hover {
                     background: linear-gradient(135deg, #432004, #D0872E);
                     border: 2px solid #E5A440;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-add-category {
                        background: linear-gradient(135deg, rgba(229, 164, 64, 0.95), rgba(229, 164, 64, 0.85));
                        color: #432004 !important;

                        &::before {
                           background: radial-gradient(circle, rgba(229, 164, 64, 0.4), transparent 70%) !important;
                        }
                     }
                  }
               }

               &.btn-active {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #52525C, #09090B);
                  border: 2px solid #27272A;

                  &:hover {
                     background: linear-gradient(135deg, #09090B, #52525C);
                     border: 2px solid #71717A;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-activate {
                        background: linear-gradient(135deg, rgba(82, 82, 92, 0.95), rgba(82, 82, 92, 0.85));
                        color: #09090B !important;

                        &::before {
                           background: radial-gradient(circle, rgba(82, 82, 92, 0.4), transparent 70%) !important;
                        }
                     }

                     .btn-icon-deactivate {
                        background: linear-gradient(135deg, rgba(82, 82, 92, 0.95), rgba(82, 82, 92, 0.85));
                        color: #09090B !important;

                        &::before {
                           background: radial-gradient(circle, rgba(82, 82, 92, 0.4), transparent 70%) !important;
                        }
                     }
                  }
               }

               &.btn-detail {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #155dfc, #162456);
                  border: 2px solid #2563eb;

                  &:hover {
                     background: linear-gradient(135deg, #162456, #155dfc);
                     border: 2px solid #8eb1fd;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-detail {
                        background: linear-gradient(135deg, rgba(142, 177, 253, 0.95), rgba(142, 177, 253, 0.85));
                        color: #162456 !important;

                        &::before {
                           background: radial-gradient(circle, rgba(142, 177, 253, 0.4), transparent 70%);
                        }
                     }
                  }
               }

               &.btn-update {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #2D9966, #032E15);
                  border: 2px solid #16a34a;

                  &:hover {
                     background: linear-gradient(135deg, #032E15, #2D9966);
                     border: 2px solid #8effb7;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-update {
                        background: linear-gradient(135deg, rgba(74, 222, 128, 0.95), rgba(74, 222, 128, 0.85));
                        color: #032E15 !important;

                        &::before {
                           background: radial-gradient(circle, rgba(74, 222, 128, 0.4), transparent 70%) !important;
                        }
                     }
                  }
               }

               &.btn-delete {
                  display: flex;
                  align-items: center;
                  justify-content: center;
                  background: linear-gradient(135deg, #E7180B, #460809);
                  border: 2px solid #dc2626;

                  &:hover {
                     background: linear-gradient(135deg, #460809, #E7180B) !important;
                     border: 2px solid #ff9797;
                     box-shadow: none !important;
                     transform: scale(1.05) !important;
                     transition: all 0.3s ease;

                     .btn-icon-delete {
                        background: linear-gradient(135deg, rgba(248, 113, 113, 0.95), rgba(248, 113, 113, 0.85));
                        color: #460809;

                        &::before {
                           background: radial-gradient(circle, rgba(248, 113, 113, 0.4), transparent 70%) !important;
                        }
                     }
                  }
               }
            }
         }
      }
   }

   .description-modal-product {
      .modal-overlay {
         position: fixed;
         top: 0;
         left: 0;
         right: 0;
         bottom: 0;
         background-color: rgba(0, 0, 0, 0.5);
         z-index: 1000;
         display: flex;
         align-items: center;
         justify-content: center;
         padding: spacing(4);
         animation: fadeIn 0.4s ease-out;
      }

      .modal-content {
         background: #1f2937;
         border-radius: 12px;
         padding: spacing(8);
         max-width: 120vh;
         width: 100%;
         max-height: 80vh;
         overflow-y: auto;
         box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.35);
         animation: slideIn 0.3s ease-out;


         .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: spacing(6);
            padding-bottom: spacing(4);
            border-bottom: 1px solid #4b5563;

            h3 {
               color: #50bfff;
               font-size: 1.5rem;
               font-weight: 700;
               display: flex;
               align-items: center;
               text-align: center;
               justify-content: center;
            }

            .close-btn {
               background: rgba(153, 154, 156, 0.068);
               border: none;
               font-size: 1.5rem;
               color: #6b7280;
               cursor: pointer;
               border-radius: 6px;
               transition: all 0.3s ease;

               &:hover {
                  background-color: #374151;
                  color: #f3f4f6;
               }
            }
         }

         .modal-body {
            .description-content {
               white-space: pre-wrap;
               line-height: line-height(relaxed);
               color: #ffffff;
               font-size: font-size(base);
               padding: spacing(4);
               background-color: #374151;
               border-radius: 8px;
               border: 1px solid #4b5563;
               max-height: 400px;
               overflow-y: auto;
            }
         }
      }
   }

   @keyframes fade-in {
      from {
         opacity: 0;
         transform: translateY(20px);
      }

      to {
         opacity: 1;
         transform: translateY(0);
      }
   }

   @keyframes slide-up {
      to {
         opacity: 1;
         transform: translateY(0);
      }
   }

   @keyframes spin {
      from {
         transform: rotate(0deg);
      }

      to {
         transform: rotate(360deg);
      }
   }
}

@keyframes fadeIn {
   from {
      opacity: 0;
   }

   to {
      opacity: 1;
   }
}

@keyframes slideIn {
   from {
      opacity: 0;
      transform: translateY(-20px) scale(0.95);
   }

   to {
      opacity: 1;
      transform: translateY(0) scale(1);
   }
}