// ==============================================
// üîß MIXINS & UTILITIES
// ==============================================

@import 'variables';

// ==============================================
// üì± RESPONSIVE MIXINS
// ==============================================
@mixin mobile-first($breakpoint) {
    @media (min-width: breakpoint($breakpoint)) {
        @content;
    }
}

@mixin mobile-only {
    @media (max-width: #{breakpoint(sm) - 1px}) {
        @content;
    }
}

@mixin tablet-only {
    @media (min-width: #{breakpoint(sm)}) and (max-width: #{breakpoint(lg) - 1px}) {
        @content;
    }
}

@mixin desktop-up {
    @media (min-width: breakpoint(lg)) {
        @content;
    }
}

// ==============================================
// üé® BUTTON MIXINS
// ==============================================
@mixin button-base {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-family: inherit;
    font-weight: font-weight(medium);
    text-decoration: none;
    border: none;
    border-radius: border-radius(md);
    cursor: pointer;
    transition: transition(all);
    white-space: nowrap;
    user-select: none;

    &:focus {
        outline: none;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    &:disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }
}

@mixin button-size($size: 'md') {
    @if $size =='sm' {
        padding: spacing(2) spacing(3);
        font-size: font-size(sm);
        min-height: 2rem;
    }

    @else if $size =='md' {
        padding: spacing(3) spacing(4);
        font-size: font-size(sm);
        min-height: 2.5rem;
    }

    @else if $size =='lg' {
        padding: spacing(3) spacing(6);
        font-size: font-size(base);
        min-height: 3rem;
    }
}

@mixin button-variant($variant: 'primary') {
    @if $variant =='primary' {
        background-color: color(primary-600);
        color: color(white);

        &:hover:not(:disabled) {
            background-color: color(primary-700);
        }

        &:active {
            background-color: color(primary-800);
        }
    }

    @else if $variant =='secondary' {
        background-color: color(gray-100);
        color: color(gray-700);
        border: 1px solid color(gray-300);

        &:hover:not(:disabled) {
            background-color: color(gray-200);
            border-color: color(gray-400);
        }
    }

    @else if $variant =='success' {
        background-color: color(success-600);
        color: color(white);

        &:hover:not(:disabled) {
            background-color: color(success-700);
        }
    }

    @else if $variant =='danger' {
        background-color: color(error-600);
        color: color(white);

        &:hover:not(:disabled) {
            background-color: color(error-700);
        }
    }

    @else if $variant =='ghost' {
        background-color: transparent;
        color: color(gray-700);

        &:hover:not(:disabled) {
            background-color: color(gray-100);
        }
    }
}

// ==============================================
// üìã CARD MIXINS
// ==============================================
@mixin card-base {
    background-color: color(white);
    border: 1px solid color(gray-200);
    border-radius: border-radius(lg);
    box-shadow: shadow(sm);
    transition: transition(shadow);
}

@mixin card-hover {
    &:hover {
        box-shadow: shadow(md);
        border-color: color(gray-300);
    }
}

@mixin card-padding($size: 'md') {
    @if $size =='sm' {
        padding: spacing(4);
    }

    @else if $size =='md' {
        padding: spacing(6);
    }

    @else if $size =='lg' {
        padding: spacing(8);
    }
}

// ==============================================
// üìù FORM INPUT MIXINS
// ==============================================
@mixin input-base {
    width: 100%;
    padding: spacing(3);
    font-size: font-size(sm);
    border: 1px solid color(gray-300);
    border-radius: border-radius(md);
    background-color: color(white);
    transition: transition(colors);

    &::placeholder {
        color: color(gray-400);
    }

    &:focus {
        outline: none;
        border-color: color(primary-500);
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    &:disabled {
        background-color: color(gray-50);
        color: color(gray-500);
        cursor: not-allowed;
    }

    &.error {
        border-color: color(error-500);

        &:focus {
            border-color: color(error-500);
            box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
        }
    }
}

// ==============================================
// üìä TABLE MIXINS
// ==============================================
@mixin table-base {
    width: 100%;
    border-collapse: collapse;
    background-color: color(white);
    border-radius: border-radius(lg);
    overflow: hidden;
    box-shadow: shadow(sm);
}

@mixin table-header {
    background-color: color(gray-50);

    th {
        padding: spacing(4);
        text-align: left;
        font-weight: font-weight(semibold);
        font-size: font-size(sm);
        color: color(gray-700);
        border-bottom: 1px solid color(gray-200);
    }
}

@mixin table-row {
    td {
        padding: spacing(4);
        font-size: font-size(sm);
        color: color(gray-600);
        border-bottom: 1px solid color(gray-100);
    }

    &:hover {
        background-color: color(gray-50);
    }

    &:last-child td {
        border-bottom: none;
    }
}

// ==============================================
// üîç UTILITY MIXINS
// ==============================================
@mixin flex-center {
    display: flex;
    align-items: center;
    justify-content: center;
}

@mixin flex-between {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

@mixin truncate {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

@mixin sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

@mixin loading-skeleton {
    background: linear-gradient(90deg, color(gray-200) 25%, color(gray-100) 50%, color(gray-200) 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
}

@keyframes loading {
    0% {
        background-position: 200% 0;
    }

    100% {
        background-position: -200% 0;
    }
}

// ==============================================
// üåä ANIMATION MIXINS
// ==============================================
@mixin fade-in($duration: 0.3s) {
    animation: fadeIn $duration ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
        transform: translateY(spacing(2));
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@mixin slide-up($duration: 0.3s) {
    animation: slideUp $duration ease-out;
}

@keyframes slideUp {
    from {
        transform: translateY(spacing(4));
        opacity: 0;
    }

    to {
        transform: translateY(0);
        opacity: 1;
    }
}

// ==============================================
// üéØ STATUS BADGE MIXIN
// ==============================================
@mixin status-badge($status: 'default') {
    display: inline-flex;
    align-items: center;
    padding: spacing(1) spacing(2);
    font-size: font-size(xs);
    font-weight: font-weight(medium);
    border-radius: border-radius(full);

    @if $status =='success' {
        background-color: color(success-100);
        color: color(success-700);
    }

    @else if $status =='warning' {
        background-color: color(warning-100);
        color: color(warning-700);
    }

    @else if $status =='error' {
        background-color: color(error-100);
        color: color(error-700);
    }

    @else if $status =='info' {
        background-color: color(info-100);
        color: color(info-700);
    }

    @else {
        background-color: color(gray-100);
        color: color(gray-700);
    }
}